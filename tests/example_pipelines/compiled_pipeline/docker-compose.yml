services:
  first_component:
    command:
    - --metadata
    - '{"run_id": "test_pipeline", "base_path": "/foo/bar"}'
    - --output_manifest_path
    - /foo/bar/manifest.txt
    - --storage_args
    - a dummy string arg
    depends_on: {}
    image: example_component:latest
    volumes: []
  second_component:
    command:
    - --metadata
    - '{"run_id": "test_pipeline", "base_path": "/foo/bar"}'
    - --output_manifest_path
    - /foo/bar/manifest.txt
    - --storage_args
    - a dummy string arg
    - --input_manifest_path
    - /foo/bar/manifest.txt
    depends_on:
      first_component:
        condition: service_completed_successfully
    image: example_component:latest
    volumes: []
  third_component:
    command:
    - --metadata
    - '{"run_id": "test_pipeline", "base_path": "/foo/bar"}'
    - --output_manifest_path
    - /foo/bar/manifest.txt
    - --storage_args
    - a dummy string arg
    - --input_manifest_path
    - /foo/bar/manifest.txt
    depends_on:
      second_component:
        condition: service_completed_successfully
    image: example_component:latest
    volumes: []
version: '3.8'
