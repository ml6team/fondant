{
  "pipelineSpec": {
    "components": {
      "comp-first-component": {
        "executorLabel": "exec-first-component",
        "inputDefinitions": {
          "parameters": {
            "component_spec": {
              "type": "STRING"
            },
            "input_manifest_path": {
              "type": "STRING"
            },
            "input_partition_rows": {
              "type": "STRING"
            },
            "metadata": {
              "type": "STRING"
            },
            "storage_args": {
              "type": "STRING"
            }
          }
        },
        "outputDefinitions": {
          "parameters": {
            "output_manifest_path": {
              "type": "STRING"
            }
          }
        }
      },
      "comp-second-component": {
        "executorLabel": "exec-second-component",
        "inputDefinitions": {
          "parameters": {
            "component_spec": {
              "type": "STRING"
            },
            "input_manifest_path": {
              "type": "STRING"
            },
            "input_partition_rows": {
              "type": "STRING"
            },
            "metadata": {
              "type": "STRING"
            },
            "storage_args": {
              "type": "STRING"
            }
          }
        },
        "outputDefinitions": {
          "parameters": {
            "output_manifest_path": {
              "type": "STRING"
            }
          }
        }
      },
      "comp-third-component": {
        "executorLabel": "exec-third-component",
        "inputDefinitions": {
          "parameters": {
            "component_spec": {
              "type": "STRING"
            },
            "input_manifest_path": {
              "type": "STRING"
            },
            "input_partition_rows": {
              "type": "STRING"
            },
            "metadata": {
              "type": "STRING"
            },
            "some_list": {
              "type": "STRING"
            },
            "storage_args": {
              "type": "STRING"
            }
          }
        },
        "outputDefinitions": {
          "parameters": {
            "output_manifest_path": {
              "type": "STRING"
            }
          }
        }
      }
    },
    "deploymentSpec": {
      "executors": {
        "exec-first-component": {
          "container": {
            "command": [
              "python3",
              "main.py",
              "--input_manifest_path",
              "{{$.inputs.parameters['input_manifest_path']}}",
              "--metadata",
              "{{$.inputs.parameters['metadata']}}",
              "--component_spec",
              "{{$.inputs.parameters['component_spec']}}",
              "--input_partition_rows",
              "{{$.inputs.parameters['input_partition_rows']}}",
              "--storage_args",
              "{{$.inputs.parameters['storage_args']}}",
              "--output_manifest_path",
              "{{$.outputs.parameters['output_manifest_path'].output_file}}"
            ],
            "image": "example_component:latest"
          }
        },
        "exec-second-component": {
          "container": {
            "command": [
              "python3",
              "main.py",
              "--input_manifest_path",
              "{{$.inputs.parameters['input_manifest_path']}}",
              "--metadata",
              "{{$.inputs.parameters['metadata']}}",
              "--component_spec",
              "{{$.inputs.parameters['component_spec']}}",
              "--input_partition_rows",
              "{{$.inputs.parameters['input_partition_rows']}}",
              "--storage_args",
              "{{$.inputs.parameters['storage_args']}}",
              "--output_manifest_path",
              "{{$.outputs.parameters['output_manifest_path'].output_file}}"
            ],
            "image": "example_component:latest"
          }
        },
        "exec-third-component": {
          "container": {
            "command": [
              "python3",
              "main.py",
              "--input_manifest_path",
              "{{$.inputs.parameters['input_manifest_path']}}",
              "--metadata",
              "{{$.inputs.parameters['metadata']}}",
              "--component_spec",
              "{{$.inputs.parameters['component_spec']}}",
              "--input_partition_rows",
              "{{$.inputs.parameters['input_partition_rows']}}",
              "--storage_args",
              "{{$.inputs.parameters['storage_args']}}",
              "--some_list",
              "{{$.inputs.parameters['some_list']}}",
              "--output_manifest_path",
              "{{$.outputs.parameters['output_manifest_path'].output_file}}"
            ],
            "image": "example_component:latest"
          }
        }
      }
    },
    "pipelineInfo": {
      "name": "testpipeline"
    },
    "root": {
      "dag": {
        "tasks": {
          "first-component": {
            "cachingOptions": {
              "enableCache": true
            },
            "componentRef": {
              "name": "comp-first-component"
            },
            "inputs": {
              "parameters": {
                "component_spec": {
                  "runtimeValue": {
                    "constantValue": {
                      "stringValue": "{\"name\": \"First component\", \"description\": \"This is an example component\", \"image\": \"example_component:latest\", \"produces\": {\"images\": {\"fields\": {\"data\": {\"type\": \"binary\"}}}, \"captions\": {\"fields\": {\"data\": {\"type\": \"string\"}}}}, \"args\": {\"storage_args\": {\"description\": \"Storage arguments\", \"type\": \"str\"}}}"
                    }
                  }
                },
                "input_manifest_path": {
                  "runtimeValue": {
                    "constantValue": {
                      "stringValue": ""
                    }
                  }
                },
                "input_partition_rows": {
                  "runtimeValue": {
                    "constantValue": {
                      "stringValue": "disable"
                    }
                  }
                },
                "metadata": {
                  "runtimeValue": {
                    "constantValue": {
                      "stringValue": "{\"base_path\": \"/foo/bar\", \"run_id\": \"{{workflow.name}}\"}"
                    }
                  }
                },
                "storage_args": {
                  "runtimeValue": {
                    "constantValue": {
                      "stringValue": "a dummy string arg"
                    }
                  }
                }
              }
            },
            "taskInfo": {
              "name": "first-component"
            }
          },
          "second-component": {
            "cachingOptions": {
              "enableCache": true
            },
            "componentRef": {
              "name": "comp-second-component"
            },
            "dependentTasks": [
              "first-component"
            ],
            "inputs": {
              "parameters": {
                "component_spec": {
                  "runtimeValue": {
                    "constantValue": {
                      "stringValue": "{\"name\": \"Second component\", \"description\": \"This is an example component\", \"image\": \"example_component:latest\", \"consumes\": {\"images\": {\"fields\": {\"data\": {\"type\": \"binary\"}}}}, \"produces\": {\"embeddings\": {\"fields\": {\"data\": {\"type\": \"array\", \"items\": {\"type\": \"float32\"}}}}}, \"args\": {\"storage_args\": {\"description\": \"Storage arguments\", \"type\": \"str\"}}}"
                    }
                  }
                },
                "input_manifest_path": {
                  "taskOutputParameter": {
                    "outputParameterKey": "output_manifest_path",
                    "producerTask": "first-component"
                  }
                },
                "input_partition_rows": {
                  "runtimeValue": {
                    "constantValue": {
                      "stringValue": "10"
                    }
                  }
                },
                "metadata": {
                  "runtimeValue": {
                    "constantValue": {
                      "stringValue": "{\"base_path\": \"/foo/bar\", \"run_id\": \"{{workflow.name}}\"}"
                    }
                  }
                },
                "storage_args": {
                  "runtimeValue": {
                    "constantValue": {
                      "stringValue": "a dummy string arg"
                    }
                  }
                }
              }
            },
            "taskInfo": {
              "name": "second-component"
            }
          },
          "third-component": {
            "cachingOptions": {
              "enableCache": true
            },
            "componentRef": {
              "name": "comp-third-component"
            },
            "dependentTasks": [
              "second-component"
            ],
            "inputs": {
              "parameters": {
                "component_spec": {
                  "runtimeValue": {
                    "constantValue": {
                      "stringValue": "{\"name\": \"Third component\", \"description\": \"This is an example component\", \"image\": \"example_component:latest\", \"consumes\": {\"images\": {\"fields\": {\"data\": {\"type\": \"binary\"}}}, \"captions\": {\"fields\": {\"data\": {\"type\": \"string\"}}}, \"embeddings\": {\"fields\": {\"data\": {\"type\": \"array\", \"items\": {\"type\": \"float32\"}}}}}, \"produces\": {\"images\": {\"fields\": {\"data\": {\"type\": \"binary\"}}}, \"additionalSubsets\": false}, \"args\": {\"storage_args\": {\"description\": \"Storage arguments\", \"type\": \"str\"}, \"some_list\": {\"description\": \"Some list\", \"type\": \"list\", \"items\": {\"type\": \"int\"}}}}"
                    }
                  }
                },
                "input_manifest_path": {
                  "taskOutputParameter": {
                    "outputParameterKey": "output_manifest_path",
                    "producerTask": "second-component"
                  }
                },
                "input_partition_rows": {
                  "runtimeValue": {
                    "constantValue": {
                      "stringValue": "None"
                    }
                  }
                },
                "metadata": {
                  "runtimeValue": {
                    "constantValue": {
                      "stringValue": "{\"base_path\": \"/foo/bar\", \"run_id\": \"{{workflow.name}}\"}"
                    }
                  }
                },
                "some_list": {
                  "runtimeValue": {
                    "constantValue": {
                      "stringValue": "[1, 2, 3]"
                    }
                  }
                },
                "storage_args": {
                  "runtimeValue": {
                    "constantValue": {
                      "stringValue": "a dummy string arg"
                    }
                  }
                }
              }
            },
            "taskInfo": {
              "name": "third-component"
            }
          }
        }
      }
    },
    "schemaVersion": "2.0.0",
    "sdkVersion": "kfp-1.8.22"
  },
  "runtimeConfig": {}
}