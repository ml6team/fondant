{
    "Version": "2020-12-01",
    "Metadata": {},
    "Parameters": [],
    "PipelineExperimentConfig": {
        "ExperimentName": {
            "Get": "Execution.PipelineName"
        },
        "TrialName": {
            "Get": "Execution.PipelineExecutionId"
        }
    },
    "Steps": [
        {
            "Name": "load_from_hub",
            "Type": "Processing",
            "Arguments": {
                "ProcessingResources": {
                    "ClusterConfig": {
                        "InstanceType": "ml.t3.medium",
                        "InstanceCount": 1,
                        "VolumeSizeInGB": 30
                    }
                },
                "AppSpecification": {
                    "ImageUri": "281086077386.dkr.ecr.us-east-1.amazonaws.com/load_from_hf_hub:main",
                    "ContainerEntrypoint": [
                        "bash",
                        "/opt/ml/processing/input/code/load_from_hub.sh"
                    ]
                },
                "RoleArn": "arn:aws:iam::281086077386:role/service-role/AmazonSageMaker-ExecutionRole-20231107T160823",
                "ProcessingInputs": [
                    {
                        "InputName": "code",
                        "AppManaged": false,
                        "S3Input": {
                            "S3Uri": "s3://sagemaker-us-east-1-281086077386/load_from_hub-c255f7bd73a4b021ab52222140aa0acb/input/code/load_from_hub.sh",
                            "LocalPath": "/opt/ml/processing/input/code",
                            "S3DataType": "S3Prefix",
                            "S3InputMode": "File",
                            "S3DataDistributionType": "FullyReplicated",
                            "S3CompressionType": "None"
                        }
                    }
                ]
            }
        },
        {
            "Name": "download_images",
            "Type": "Processing",
            "Arguments": {
                "ProcessingResources": {
                    "ClusterConfig": {
                        "InstanceType": "ml.t3.medium",
                        "InstanceCount": 1,
                        "VolumeSizeInGB": 30
                    }
                },
                "AppSpecification": {
                    "ImageUri": "281086077386.dkr.ecr.us-east-1.amazonaws.com/download_images:main",
                    "ContainerEntrypoint": [
                        "bash",
                        "/opt/ml/processing/input/code/download_images.sh"
                    ]
                },
                "RoleArn": "arn:aws:iam::281086077386:role/service-role/AmazonSageMaker-ExecutionRole-20231107T160823",
                "ProcessingInputs": [
                    {
                        "InputName": "code",
                        "AppManaged": false,
                        "S3Input": {
                            "S3Uri": "s3://sagemaker-us-east-1-281086077386/download_images-5435dd984a629fbbe2fd644cb64a65af/input/code/download_images.sh",
                            "LocalPath": "/opt/ml/processing/input/code",
                            "S3DataType": "S3Prefix",
                            "S3InputMode": "File",
                            "S3DataDistributionType": "FullyReplicated",
                            "S3CompressionType": "None"
                        }
                    }
                ]
            },
            "DependsOn": [
                "load_from_hub"
            ]
        },
        {
            "Name": "filter_image_resolution",
            "Type": "Processing",
            "Arguments": {
                "ProcessingResources": {
                    "ClusterConfig": {
                        "InstanceType": "ml.t3.medium",
                        "InstanceCount": 1,
                        "VolumeSizeInGB": 30
                    }
                },
                "AppSpecification": {
                    "ImageUri": "281086077386.dkr.ecr.us-east-1.amazonaws.com/filter_image_resolution:main",
                    "ContainerEntrypoint": [
                        "bash",
                        "/opt/ml/processing/input/code/filter_image_resolution.sh"
                    ]
                },
                "RoleArn": "arn:aws:iam::281086077386:role/service-role/AmazonSageMaker-ExecutionRole-20231107T160823",
                "ProcessingInputs": [
                    {
                        "InputName": "code",
                        "AppManaged": false,
                        "S3Input": {
                            "S3Uri": "s3://sagemaker-us-east-1-281086077386/filter_image_resolution-771cd2b1087493b07dad98601f897503/input/code/filter_image_resolution.sh",
                            "LocalPath": "/opt/ml/processing/input/code",
                            "S3DataType": "S3Prefix",
                            "S3InputMode": "File",
                            "S3DataDistributionType": "FullyReplicated",
                            "S3CompressionType": "None"
                        }
                    }
                ]
            },
            "DependsOn": [
                "download_images"
            ]
        }
    ]
}